<html>
    <head>
        <meta charset="utf-8">
        
            <script src="lib/bindings/utils.js"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 750px;
                 background-color: #222222;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"color": "#97c2fc", "data": {"attributes": {"arrival_location": "Northport"}, "chunk_id": [0, 1], "description": "A brave explorer from Northport who meets Elias Thorn at the village inn in Arendale.", "id": "captain_mira_stone", "name": "Captain Mira", "states": [], "synonyms": [], "type": "character"}, "font": {"color": "white"}, "id": "captain_mira_stone", "label": "captain_mira_stone", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {"age": null, "material": null}, "chunk_id": [0, 2], "description": "The quiet village where Captain Mira Stone arrived, carrying a map that leads to the Crystal Caves. The map was discovered by Mira and Elias in the abandoned watchtower.", "id": "arendale", "name": "Arendale (The Lost Map)", "states": [], "synonyms": [], "type": "location"}, "font": {"color": "white"}, "id": "arendale", "label": "arendale", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {}, "chunk_id": [1], "description": "A young scholar who studies ancient symbols and offers to help Mira decode the map.", "id": "elias", "name": "Elias Thorn", "states": [], "synonyms": [], "type": "character"}, "font": {"color": "white"}, "id": "elias", "label": "elias", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {}, "chunk_id": [1, 2], "description": "The location where Mira and Elias travel before sunset, and where they escape through a hidden tunnel.", "id": "forest", "name": "Blackwood Forest", "states": [], "synonyms": [], "type": "location"}, "font": {"color": "white"}, "id": "forest", "label": "forest", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {}, "chunk_id": [2], "description": "A location where Mira and Elias took shelter.", "id": "abandoned_watchtower", "name": "Abandoned Watchtower", "states": [], "synonyms": [], "type": "location"}, "font": {"color": "white"}, "id": "abandoned_watchtower", "label": "abandoned_watchtower", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {}, "chunk_id": [3], "description": "A record of the lost history found in Crystal Caves.", "id": "arendale_first_settlers_history", "name": "History of Arendale\u0027s first settlers", "states": [{"attributes": {}, "sid": "inscription_reveals_arendale_first_settlers_history", "time_end": null, "time_start": "inscription_reveals"}], "synonyms": [], "type": "item"}, "font": {"color": "white"}, "id": "arendale_first_settlers_history", "label": "arendale_first_settlers_history", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {"group_leader": true, "ruler": true}, "chunk_id": [1, 2], "description": "The ruler of Arendale who sends his loyal guard to follow Mira and Elias. He is also the leader of the group demanding the map.", "id": "lord_darrin_vale", "name": "Lord Darrin Vale", "states": [], "synonyms": [], "type": "character"}, "font": {"color": "white"}, "id": "lord_darrin_vale", "label": "lord_darrin_vale", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {"loyalty": "to Lord Darrin Vale", "mission": ["follow Mira and Elias", "demand the map"]}, "chunk_id": [1, 2], "description": "Lord Darrin Vale\u0027s loyal guard who is sent to follow Mira and Elias. Also, a character who demands the map in the name of Lord Vale.", "id": "sergeant_lorne", "name": "Sergeant Lorne", "states": [], "synonyms": [], "type": "character"}, "font": {"color": "white"}, "id": "sergeant_lorne", "label": "sergeant_lorne", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {}, "chunk_id": [3], "description": "A location where Elias found an inscription.", "id": "crystal_caves", "name": "Crystal Caves", "states": [{"attributes": {}, "sid": "lord_vale_finds_silence_crystal_caves", "time_end": null, "time_start": "lord_vale_finds_silence"}, {"attributes": {}, "sid": "crystal_caves_contains_crystal_caves", "time_end": null, "time_start": "crystal_caves_contains"}, {"attributes": {}, "sid": "inscription_reveals_crystal_caves", "time_end": null, "time_start": "inscription_reveals"}], "synonyms": [], "type": "location"}, "font": {"color": "white"}, "id": "crystal_caves", "label": "crystal_caves", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {}, "chunk_id": [3], "description": "An item that belongs to everyone who seeks it with courage.", "id": "the_past", "name": "The Past", "states": [{"attributes": {}, "sid": "lord_vale_finds_note_the_past", "time_end": null, "time_start": "lord_vale_finds_note"}], "synonyms": [], "type": "item"}, "font": {"color": "white"}, "id": "the_past", "label": "the_past", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {}, "chunk_id": [3], "description": "Environment elements that lit the walls of Crystal Caves.", "id": "glowing_blue_stones", "name": "Glowing Blue Stones", "states": [{"attributes": {}, "sid": "crystal_caves_contains_glowing_blue_stones", "time_end": null, "time_start": "crystal_caves_contains"}], "synonyms": [], "type": "environment_element"}, "font": {"color": "white"}, "id": "glowing_blue_stones", "label": "glowing_blue_stones", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {}, "chunk_id": [0], "description": "Captain Mira Stone, a brave explorer from Northport, arrives at the quiet village of Arendale.", "id": "captain_mira_stone_arrives_at_arendale", "name": "Captain Mira Stone arrives at Arendale", "states": [], "synonyms": [], "type": "event"}, "font": {"color": "white"}, "id": "captain_mira_stone_arrives_at_arendale", "label": "captain_mira_stone_arrives_at_arendale", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {}, "chunk_id": [0], "description": "Captain Mira Stone carries The Lost Map of Arendale.", "id": "captain_mira_stone_carries_the_lost_map", "name": "Captain Mira Stone carries the lost map", "states": [], "synonyms": [], "type": "event"}, "font": {"color": "white"}, "id": "captain_mira_stone_carries_the_lost_map", "label": "captain_mira_stone_carries_the_lost_map", "shape": "dot", "size": 10}, {"color": "#97c2fc", "data": {"attributes": {}, "chunk_id": [1], "description": "The location where Mira meets Elias Thorn.", "id": "village_inn", "name": "Village Inn", "states": [], "synonyms": [], "type": "location"}, "font": {"color": "white"}, "id": "village_inn", "label": "village_inn", "shape": "dot", "size": 10}]);
                  edges = new vis.DataSet([{"data": {"chunk_id": 0, "description": "Captain Mira Stone arrives at Arendale.", "id": "captain_mira_stone_arrives_at_arendale", "relation": "arrives", "source": "captain_mira_stone", "target": "arendale", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "captain_mira_stone", "label": "arrives", "to": "arendale", "width": 1}, {"data": {"chunk_id": 1, "description": "Mira meets Elias Thorn at the village inn.", "id": "mira_meets_elias", "relation": "meets", "source": "captain_mira_stone", "target": "elias", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "captain_mira_stone", "label": "meets", "to": "elias", "width": 1}, {"data": {"chunk_id": 1, "description": "Mira and Elias decide to travel through the forest before sunset.", "id": "mira_decides_to_travel", "relation": "decides_to_travel", "source": "captain_mira_stone", "target": "forest", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "captain_mira_stone", "label": "decides_to_travel", "to": "forest", "width": 1}, {"data": {"chunk_id": 2, "description": "Mira takes shelter in the abandoned watchtower.", "id": "mira_takes_shelter", "relation": "takes_shelter_in", "source": "captain_mira_stone", "target": "abandoned_watchtower", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "captain_mira_stone", "label": "takes_shelter_in", "to": "abandoned_watchtower", "width": 1}, {"data": {"chunk_id": 2, "description": "Elias takes shelter in the abandoned watchtower.", "id": "elias_takes_shelter", "relation": "takes_shelter_in", "source": "elias", "target": "abandoned_watchtower", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "elias", "label": "takes_shelter_in", "to": "abandoned_watchtower", "width": 1}, {"data": {"chunk_id": 3, "description": "Elias discovers the history of Arendale\u0027s first settlers.", "id": "elias_discovers_history", "relation": "discovers", "source": "elias", "target": "arendale_first_settlers_history", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "elias", "label": "discovers", "to": "arendale_first_settlers_history", "width": 1}, {"data": {"chunk_id": 1, "description": "Lord Darrin Vale sends his loyal guard to follow Mira and Elias.", "id": "lord_darrin_vale_sends", "relation": "sends", "source": "lord_darrin_vale", "target": "sergeant_lorne", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "lord_darrin_vale", "label": "sends", "to": "sergeant_lorne", "width": 1}, {"data": {"chunk_id": 3, "description": "Lord Vale finds silence in Crystal Caves.", "id": "lord_vale_finds_silence", "relation": "finds", "source": "lord_darrin_vale", "target": "crystal_caves", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "lord_darrin_vale", "label": "finds", "to": "crystal_caves", "width": 1}, {"data": {"chunk_id": 3, "description": "Lord Vale finds the single note.", "id": "lord_vale_finds_note", "relation": "finds", "source": "lord_darrin_vale", "target": "the_past", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "lord_darrin_vale", "label": "finds", "to": "the_past", "width": 1}, {"data": {"chunk_id": 3, "description": "Crystal Caves contains glowing blue stones.", "id": "crystal_caves_contains", "relation": "contains", "source": "crystal_caves", "target": "glowing_blue_stones", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "crystal_caves", "label": "contains", "to": "glowing_blue_stones", "width": 1}, {"data": {"chunk_id": 3, "description": "The inscription reveals the truth about Crystal Caves.", "id": "inscription_reveals", "relation": "reveals", "source": "arendale_first_settlers_history", "target": "crystal_caves", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "arendale_first_settlers_history", "label": "reveals", "to": "crystal_caves", "width": 1}, {"data": {"chunk_id": 0, "description": "", "id": "captain_mira_stone_arrives_at_arendale_affects_arendale", "relation": "affects", "source": "captain_mira_stone_arrives_at_arendale", "target": "arendale", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "captain_mira_stone_arrives_at_arendale", "label": "affects", "to": "arendale", "width": 1}, {"data": {"chunk_id": 0, "description": "", "id": "captain_mira_stone_carries_the_lost_map_affects_arendale", "relation": "affected by", "source": "captain_mira_stone_carries_the_lost_map", "target": "arendale", "time_end_event": null, "time_start_event": null, "weight": 1.0}, "from": "captain_mira_stone_carries_the_lost_map", "label": "affected by", "to": "arendale", "width": 1}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"nodes": {"font": {"size": 14}}, "edges": {"color": {"inherit": true}, "smooth": false, "font": {"size": 12, "color": "#ffffff"}}, "physics": {"enabled": true, "stabilization": {"iterations": 100}}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    </body>
</html>